(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22225,e=>{"use strict";var s=e.i(43476),r=e.i(71645),t=e.i(18566);function a(){let e=(0,t.useRouter)(),a=(0,t.useSearchParams)().get("token")||"",[l,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[g,x]=(0,r.useState)(null);async function h(s){if(s.preventDefault(),x(null),m(null),!a)return void x("Reset token missing. Please use the link from your email.");if(l!==o)return void x("Passwords do not match.");c(!0);try{let s=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,password:l})}),r=await s.json();if(!s.ok)throw Error(r.error||"Failed to reset password");m(r.message||"Password reset successful!"),setTimeout(()=>e.push("/login"),1200)}catch(e){x(e.message||"Failed to reset password")}finally{c(!1)}}return(0,s.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center px-4 bg-black",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-gray-900 rounded-xl border border-gray-800 p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-flex w-16 h-16 bg-gray-800 rounded-xl items-center justify-center mb-4",children:(0,s.jsx)("span",{className:"text-3xl",children:"ðŸ”‘"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Reset password"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Choose a new password for your account"})]}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[!a&&(0,s.jsx)("div",{className:"text-sm text-gray-300 bg-gray-800 p-3 rounded-lg border border-gray-700",children:"âš ï¸ Invalid or missing reset token. Please use the link from your email."}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"New password"}),(0,s.jsx)("input",{type:"password",value:l,onChange:e=>n(e.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"})]}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Confirm password"}),(0,s.jsx)("input",{type:"password",value:o,onChange:e=>i(e.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"})]}),u&&(0,s.jsxs)("div",{className:"text-sm text-gray-300 bg-gray-800 p-3 rounded-lg border border-gray-700",children:["âœ… ",u]}),g&&(0,s.jsxs)("div",{className:"text-sm text-gray-300 bg-gray-800 p-3 rounded-lg border border-gray-700",children:["âš ï¸ ",g]}),(0,s.jsx)("button",{type:"submit",className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-900 font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:!a||!l||l!==o||d,children:d?"â³ Resettingâ€¦":"Reset password"}),(0,s.jsx)("div",{className:"text-center text-sm text-gray-400",children:(0,s.jsx)("a",{href:"/login",className:"text-white font-medium hover:underline",children:"Back to login"})})]})]})})}function l(){return(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center px-4 bg-black",children:(0,s.jsx)("div",{className:"text-gray-300",children:"Loadingâ€¦"})}),children:(0,s.jsx)(a,{})})}e.s(["default",()=>l])}]);