{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/ThemeProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  // Always start with \"light\" to match server render\r\n  const [theme, setTheme] = useState<Theme>(\"light\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Only read from localStorage after component mounts (client-side only)\r\n    const savedTheme = localStorage.getItem(\"theme\") as Theme;\r\n    const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\r\n    const initialTheme = savedTheme || systemTheme;\r\n    \r\n    setTheme(initialTheme);\r\n    setMounted(true);\r\n    \r\n    // Apply theme immediately\r\n    if (initialTheme === \"dark\") {\r\n      document.documentElement.classList.add(\"dark\");\r\n    } else {\r\n      document.documentElement.classList.remove(\"dark\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted) {\r\n      localStorage.setItem(\"theme\", theme);\r\n      if (theme === \"dark\") {\r\n        document.documentElement.classList.add(\"dark\");\r\n      } else {\r\n        document.documentElement.classList.remove(\"dark\");\r\n      }\r\n    }\r\n  }, [theme, mounted]);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => (prev === \"light\" ? \"dark\" : \"light\"));\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,mDAAmD;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,wEAAwE;QACxE,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;QACzF,MAAM,eAAe,cAAc;QAEnC,SAAS;QACT,WAAW;QAEX,0BAA0B;QAC1B,IAAI,iBAAiB,QAAQ;YAC3B,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;YACX,aAAa,OAAO,CAAC,SAAS;YAC9B,IAAI,UAAU,QAAQ;gBACpB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACzC,OAAO;gBACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5C;QACF;IACF,GAAG;QAAC;QAAO;KAAQ;IAEnB,MAAM,cAAc;QAClB,SAAS,CAAC,OAAU,SAAS,UAAU,SAAS;IAClD;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/AuthProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\ntype User = { name?: string; email: string } | null;\r\n\r\ntype AuthContextType = {\r\n  user: User;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  signup: (name: string, email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nconst USERS_KEY = \"ftx_users\"; // stores { email: { password, name } }\r\nconst CURRENT_KEY = \"ftx_current\";\r\n\r\nfunction readUsers(): Record<string, { password: string; name?: string }> {\r\n  try {\r\n    const raw = localStorage.getItem(USERS_KEY);\r\n    return raw ? JSON.parse(raw) : {};\r\n  } catch (e) {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction writeUsers(u: Record<string, { password: string; name?: string }>) {\r\n  localStorage.setItem(USERS_KEY, JSON.stringify(u));\r\n}\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User>(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(CURRENT_KEY);\r\n      if (raw) setUser(JSON.parse(raw));\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, []);\r\n\r\n  async function login(email: string, password: string) {\r\n    const users = readUsers();\r\n    const record = users[email.toLowerCase()];\r\n    if (record && record.password === password) {\r\n      const u = { email, name: record.name };\r\n      setUser(u);\r\n      localStorage.setItem(CURRENT_KEY, JSON.stringify(u));\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function signup(name: string, email: string, password: string) {\r\n    const users = readUsers();\r\n    const key = email.toLowerCase();\r\n    if (users[key]) return false; // already exists\r\n    users[key] = { password, name };\r\n    writeUsers(users);\r\n    const u = { email, name };\r\n    setUser(u);\r\n    localStorage.setItem(CURRENT_KEY, JSON.stringify(u));\r\n    return true;\r\n  }\r\n\r\n  function logout() {\r\n    setUser(null);\r\n    localStorage.removeItem(CURRENT_KEY);\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, signup, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth must be used within AuthProvider\");\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAE/D,MAAM,YAAY,aAAa,uCAAuC;AACtE,MAAM,cAAc;AAEpB,SAAS;IACP,IAAI;QACF,MAAM,MAAM,aAAa,OAAO,CAAC;QACjC,OAAO,MAAM,KAAK,KAAK,CAAC,OAAO,CAAC;IAClC,EAAE,OAAO,GAAG;QACV,OAAO,CAAC;IACV;AACF;AAEA,SAAS,WAAW,CAAsD;IACxE,aAAa,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC;AACjD;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAO;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,IAAI,KAAK,QAAQ,KAAK,KAAK,CAAC;QAC9B,EAAE,OAAO,GAAG;QACV,SAAS;QACX;IACF,GAAG,EAAE;IAEL,eAAe,MAAM,KAAa,EAAE,QAAgB;QAClD,MAAM,QAAQ;QACd,MAAM,SAAS,KAAK,CAAC,MAAM,WAAW,GAAG;QACzC,IAAI,UAAU,OAAO,QAAQ,KAAK,UAAU;YAC1C,MAAM,IAAI;gBAAE;gBAAO,MAAM,OAAO,IAAI;YAAC;YACrC,QAAQ;YACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACjD,OAAO;QACT;QACA,OAAO;IACT;IAEA,eAAe,OAAO,IAAY,EAAE,KAAa,EAAE,QAAgB;QACjE,MAAM,QAAQ;QACd,MAAM,MAAM,MAAM,WAAW;QAC7B,IAAI,KAAK,CAAC,IAAI,EAAE,OAAO,OAAO,iBAAiB;QAC/C,KAAK,CAAC,IAAI,GAAG;YAAE;YAAU;QAAK;QAC9B,WAAW;QACX,MAAM,IAAI;YAAE;YAAO;QAAK;QACxB,QAAQ;QACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACjD,OAAO;IACT;IAEA,SAAS;QACP,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAQ;QAAO;kBACxD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { useTheme } from \"@/components/ThemeProvider\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\n\r\nexport function Navbar() {\r\n  const pathname = usePathname();\r\n  const { theme, toggleTheme } = useTheme();\r\n  const { user, logout } = useAuth();\r\n  const navLinks = [\r\n    { href: \"/dashboard\", label: \"Dashboard\" },\r\n    { href: \"/investments\", label: \"Investments\" },\r\n    { href: \"/insights\", label: \"Insights\" },\r\n    { href: \"/advisor\", label: \"Advisor\" },\r\n  ];\r\n  return (\r\n    <AppBar position=\"sticky\" color=\"default\" elevation={0} sx={{ borderBottom: '1px solid #e0e0e0', bgcolor: 'background.paper', zIndex: 1200 }}>\r\n      <Toolbar sx={{ maxWidth: 1280, mx: 'auto', width: '100%', display: 'flex', justifyContent: 'space-between', px: { xs: 2, md: 4 }, py: 2 }}>\r\n        <Link href=\"/\" style={{ textDecoration: 'none', display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          <Box sx={{ width: 40, height: 40, bgcolor: 'grey.100', borderRadius: 2, display: 'flex', alignItems: 'center', justifyContent: 'center', mr: 1 }}>\r\n            <span style={{ fontSize: 28 }}>üíé</span>\r\n          </Box>\r\n          <Typography variant=\"h6\" color=\"text.primary\" fontWeight={700} sx={{ letterSpacing: 0.5 }}>\r\n            FinTrackrX\r\n          </Typography>\r\n        </Link>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          {navLinks.map((link) => (\r\n            <Link key={link.href} href={link.href} style={{ textDecoration: 'none' }}>\r\n              <Button\r\n                variant={pathname === link.href ? 'contained' : 'text'}\r\n                color={pathname === link.href ? 'primary' : 'inherit'}\r\n                sx={{\r\n                  fontWeight: 500,\r\n                  fontSize: 15,\r\n                  borderRadius: 2,\r\n                  px: 2.5,\r\n                  py: 1,\r\n                  boxShadow: 'none',\r\n                  ...(pathname === link.href\r\n                    ? { bgcolor: 'primary.main', color: '#fff', '&:hover': { bgcolor: 'primary.dark' } }\r\n                    : { color: 'text.secondary' }),\r\n                }}\r\n              >\r\n                {link.label}\r\n              </Button>\r\n            </Link>\r\n          ))}\r\n          {user ? (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1.5, ml: 2 }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {user.name ?? user.email}\r\n              </Typography>\r\n              <Button variant=\"outlined\" color=\"inherit\" size=\"small\" onClick={logout} sx={{ borderRadius: 2 }}>\r\n                Logout\r\n              </Button>\r\n            </Box>\r\n          ) : (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1.5, ml: 2 }}>\r\n              <Link href=\"/login\" style={{ textDecoration: 'none' }}>\r\n                <Button variant=\"text\" color=\"inherit\" size=\"small\" sx={{ borderRadius: 2 }}>\r\n                  Login\r\n                </Button>\r\n              </Link>\r\n              <Link href=\"/signup\" style={{ textDecoration: 'none' }}>\r\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" sx={{ borderRadius: 2 }}>\r\n                  Sign up\r\n                </Button>\r\n              </Link>\r\n            </Box>\r\n          )}\r\n          <IconButton onClick={toggleTheme} sx={{ ml: 2 }} aria-label=\"Toggle theme\">\r\n            <span style={{ fontSize: 16 }}>{theme === 'dark' ? 'üåô' : '‚òÄÔ∏è'}</span>\r\n          </IconButton>\r\n        </Box>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;;AAYO,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,wIAAQ;IACvC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,sIAAO;IAChC,MAAM,WAAW;QACf;YAAE,MAAM;YAAc,OAAO;QAAY;QACzC;YAAE,MAAM;YAAgB,OAAO;QAAc;QAC7C;YAAE,MAAM;YAAa,OAAO;QAAW;QACvC;YAAE,MAAM;YAAY,OAAO;QAAU;KACtC;IACD,qBACE,8OAAC,uKAAM;QAAC,UAAS;QAAS,OAAM;QAAU,WAAW;QAAG,IAAI;YAAE,cAAc;YAAqB,SAAS;YAAoB,QAAQ;QAAK;kBACzI,cAAA,8OAAC,yKAAO;YAAC,IAAI;gBAAE,UAAU;gBAAM,IAAI;gBAAQ,OAAO;gBAAQ,SAAS;gBAAQ,gBAAgB;gBAAiB,IAAI;oBAAE,IAAI;oBAAG,IAAI;gBAAE;gBAAG,IAAI;YAAE;;8BACtI,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,OAAO;wBAAE,gBAAgB;wBAAQ,SAAS;wBAAQ,YAAY;wBAAU,KAAK;oBAAE;;sCAC5F,8OAAC,iKAAG;4BAAC,IAAI;gCAAE,OAAO;gCAAI,QAAQ;gCAAI,SAAS;gCAAY,cAAc;gCAAG,SAAS;gCAAQ,YAAY;gCAAU,gBAAgB;gCAAU,IAAI;4BAAE;sCAC7I,cAAA,8OAAC;gCAAK,OAAO;oCAAE,UAAU;gCAAG;0CAAG;;;;;;;;;;;sCAEjC,8OAAC,+KAAU;4BAAC,SAAQ;4BAAK,OAAM;4BAAe,YAAY;4BAAK,IAAI;gCAAE,eAAe;4BAAI;sCAAG;;;;;;;;;;;;8BAI7F,8OAAC,iKAAG;oBAAC,IAAI;wBAAE,SAAS;wBAAQ,YAAY;wBAAU,KAAK;oBAAE;;wBACtD,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;gCAAiB,MAAM,KAAK,IAAI;gCAAE,OAAO;oCAAE,gBAAgB;gCAAO;0CACrE,cAAA,8OAAC,uKAAM;oCACL,SAAS,aAAa,KAAK,IAAI,GAAG,cAAc;oCAChD,OAAO,aAAa,KAAK,IAAI,GAAG,YAAY;oCAC5C,IAAI;wCACF,YAAY;wCACZ,UAAU;wCACV,cAAc;wCACd,IAAI;wCACJ,IAAI;wCACJ,WAAW;wCACX,GAAI,aAAa,KAAK,IAAI,GACtB;4CAAE,SAAS;4CAAgB,OAAO;4CAAQ,WAAW;gDAAE,SAAS;4CAAe;wCAAE,IACjF;4CAAE,OAAO;wCAAiB,CAAC;oCACjC;8CAEC,KAAK,KAAK;;;;;;+BAhBJ,KAAK,IAAI;;;;;wBAoBrB,qBACC,8OAAC,iKAAG;4BAAC,IAAI;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;gCAAK,IAAI;4BAAE;;8CAChE,8OAAC,+KAAU;oCAAC,SAAQ;oCAAQ,OAAM;8CAC/B,KAAK,IAAI,IAAI,KAAK,KAAK;;;;;;8CAE1B,8OAAC,uKAAM;oCAAC,SAAQ;oCAAW,OAAM;oCAAU,MAAK;oCAAQ,SAAS;oCAAQ,IAAI;wCAAE,cAAc;oCAAE;8CAAG;;;;;;;;;;;iDAKpG,8OAAC,iKAAG;4BAAC,IAAI;gCAAE,SAAS;gCAAQ,YAAY;gCAAU,KAAK;gCAAK,IAAI;4BAAE;;8CAChE,8OAAC,uKAAI;oCAAC,MAAK;oCAAS,OAAO;wCAAE,gBAAgB;oCAAO;8CAClD,cAAA,8OAAC,uKAAM;wCAAC,SAAQ;wCAAO,OAAM;wCAAU,MAAK;wCAAQ,IAAI;4CAAE,cAAc;wCAAE;kDAAG;;;;;;;;;;;8CAI/E,8OAAC,uKAAI;oCAAC,MAAK;oCAAU,OAAO;wCAAE,gBAAgB;oCAAO;8CACnD,cAAA,8OAAC,uKAAM;wCAAC,SAAQ;wCAAY,OAAM;wCAAU,MAAK;wCAAQ,IAAI;4CAAE,cAAc;wCAAE;kDAAG;;;;;;;;;;;;;;;;;sCAMxF,8OAAC,+KAAU;4BAAC,SAAS;4BAAa,IAAI;gCAAE,IAAI;4BAAE;4BAAG,cAAW;sCAC1D,cAAA,8OAAC;gCAAK,OAAO;oCAAE,UAAU;gCAAG;0CAAI,UAAU,SAAS,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtE","debugId":null}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/FinanceProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { Transaction, FinancialData } from \"@/lib/finance\";\r\n\r\ninterface FinanceContextType {\r\n  data: FinancialData;\r\n  addTransaction: (transaction: Omit<Transaction, \"id\" | \"date\">) => void;\r\n  deleteTransaction: (id: string) => void;\r\n}\r\n\r\nconst FinanceContext = createContext<FinanceContextType | undefined>(undefined);\r\n\r\nconst initialData: FinancialData = {\r\n  balance: 125000,\r\n  monthlyIncome: 75000,\r\n  monthlyExpenses: 45000,\r\n  transactions: [\r\n    {\r\n      id: \"1\",\r\n      type: \"income\",\r\n      category: \"Salary\",\r\n      amount: 75000,\r\n      description: \"Monthly Salary\",\r\n      date: new Date().toISOString(),\r\n    },\r\n    {\r\n      id: \"2\",\r\n      type: \"expense\",\r\n      category: \"Rent/EMI\",\r\n      amount: 25000,\r\n      description: \"House Rent\",\r\n      date: new Date(Date.now() - 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"3\",\r\n      type: \"expense\",\r\n      category: \"Groceries\",\r\n      amount: 8000,\r\n      description: \"Monthly Groceries\",\r\n      date: new Date(Date.now() - 2 * 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"4\",\r\n      type: \"expense\",\r\n      category: \"Utilities\",\r\n      amount: 5000,\r\n      description: \"Electricity & Water Bill\",\r\n      date: new Date(Date.now() - 3 * 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"5\",\r\n      type: \"expense\",\r\n      category: \"Transport\",\r\n      amount: 4000,\r\n      description: \"Fuel & Commute\",\r\n      date: new Date(Date.now() - 4 * 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"6\",\r\n      type: \"expense\",\r\n      category: \"Healthcare\",\r\n      amount: 3000,\r\n      description: \"Medical Expenses\",\r\n      date: new Date(Date.now() - 5 * 86400000).toISOString(),\r\n    },\r\n  ],\r\n};\r\n\r\nexport function FinanceProvider({ children }: { children: React.ReactNode }) {\r\n  // Always start with initialData to ensure server/client consistency\r\n  const [data, setData] = useState<FinancialData>(initialData);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Load from localStorage after mount (client-side only)\r\n    if (typeof window !== \"undefined\") {\r\n      const saved = localStorage.getItem(\"financeData\");\r\n      if (saved) {\r\n        try {\r\n          const parsedData = JSON.parse(saved);\r\n          setData(parsedData);\r\n        } catch {\r\n          // If parsing fails, keep initialData\r\n        }\r\n      }\r\n      setMounted(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"financeData\", JSON.stringify(data));\r\n    }\r\n  }, [data]);\r\n\r\n  const addTransaction = (transaction: Omit<Transaction, \"id\" | \"date\">) => {\r\n    const newTransaction: Transaction = {\r\n      ...transaction,\r\n      id: Date.now().toString(),\r\n      date: new Date().toISOString(),\r\n    };\r\n\r\n    setData((prev) => {\r\n      const updated = {\r\n        ...prev,\r\n        transactions: [newTransaction, ...prev.transactions],\r\n      };\r\n\r\n      // Recalculate totals\r\n      const { income, expenses } = updated.transactions.reduce(\r\n        (acc, t) => {\r\n          if (t.type === \"income\") {\r\n            acc.income += t.amount;\r\n          } else {\r\n            acc.expenses += t.amount;\r\n          }\r\n          return acc;\r\n        },\r\n        { income: 0, expenses: 0 }\r\n      );\r\n\r\n      // Calculate monthly totals (last 30 days)\r\n      const thirtyDaysAgo = new Date();\r\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n      const monthlyTransactions = updated.transactions.filter(\r\n        (t) => new Date(t.date) >= thirtyDaysAgo\r\n      );\r\n\r\n      const monthlyIncome = monthlyTransactions\r\n        .filter((t) => t.type === \"income\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      const monthlyExpenses = monthlyTransactions\r\n        .filter((t) => t.type === \"expense\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      return {\r\n        ...updated,\r\n        balance: income - expenses,\r\n        monthlyIncome,\r\n        monthlyExpenses,\r\n      };\r\n    });\r\n  };\r\n\r\n  const deleteTransaction = (id: string) => {\r\n    setData((prev) => {\r\n      const updated = {\r\n        ...prev,\r\n        transactions: prev.transactions.filter((t) => t.id !== id),\r\n      };\r\n\r\n      // Recalculate totals\r\n      const { income, expenses } = updated.transactions.reduce(\r\n        (acc, t) => {\r\n          if (t.type === \"income\") {\r\n            acc.income += t.amount;\r\n          } else {\r\n            acc.expenses += t.amount;\r\n          }\r\n          return acc;\r\n        },\r\n        { income: 0, expenses: 0 }\r\n      );\r\n\r\n      // Calculate monthly totals\r\n      const thirtyDaysAgo = new Date();\r\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n      const monthlyTransactions = updated.transactions.filter(\r\n        (t) => new Date(t.date) >= thirtyDaysAgo\r\n      );\r\n\r\n      const monthlyIncome = monthlyTransactions\r\n        .filter((t) => t.type === \"income\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      const monthlyExpenses = monthlyTransactions\r\n        .filter((t) => t.type === \"expense\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      return {\r\n        ...updated,\r\n        balance: income - expenses,\r\n        monthlyIncome,\r\n        monthlyExpenses,\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <FinanceContext.Provider value={{ data, addTransaction, deleteTransaction }}>\r\n      {children}\r\n    </FinanceContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFinance() {\r\n  const context = useContext(FinanceContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useFinance must be used within a FinanceProvider\");\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}