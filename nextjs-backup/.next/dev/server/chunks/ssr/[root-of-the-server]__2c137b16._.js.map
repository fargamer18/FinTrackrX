{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/ThemeProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  // Always start with \"light\" to match server render\r\n  const [theme, setTheme] = useState<Theme>(\"light\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Only read from localStorage after component mounts (client-side only)\r\n    const savedTheme = localStorage.getItem(\"theme\") as Theme;\r\n    const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\r\n    const initialTheme = savedTheme || systemTheme;\r\n    \r\n    setTheme(initialTheme);\r\n    setMounted(true);\r\n    \r\n    // Apply theme immediately\r\n    if (initialTheme === \"dark\") {\r\n      document.documentElement.classList.add(\"dark\");\r\n    } else {\r\n      document.documentElement.classList.remove(\"dark\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted) {\r\n      localStorage.setItem(\"theme\", theme);\r\n      if (theme === \"dark\") {\r\n        document.documentElement.classList.add(\"dark\");\r\n      } else {\r\n        document.documentElement.classList.remove(\"dark\");\r\n      }\r\n    }\r\n  }, [theme, mounted]);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => (prev === \"light\" ? \"dark\" : \"light\"));\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,mDAAmD;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,wEAAwE;QACxE,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;QACzF,MAAM,eAAe,cAAc;QAEnC,SAAS;QACT,WAAW;QAEX,0BAA0B;QAC1B,IAAI,iBAAiB,QAAQ;YAC3B,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;YACX,aAAa,OAAO,CAAC,SAAS;YAC9B,IAAI,UAAU,QAAQ;gBACpB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACzC,OAAO;gBACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5C;QACF;IACF,GAAG;QAAC;QAAO;KAAQ;IAEnB,MAAM,cAAc;QAClB,SAAS,CAAC,OAAU,SAAS,UAAU,SAAS;IAClD;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/AuthProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\ntype User = { id: string; name?: string; email: string } | null;\r\n\r\ntype MfaResult = { mfa_required: true; mfa_token: string };\r\ntype AuthContextType = {\r\n  user: User;\r\n  login: (email: string, password: string, totp?: string) => Promise<boolean | MfaResult>;\r\n  completeTotp: (mfa_token: string, code: string) => Promise<boolean>;\r\n  startEmailOtp: (mfa_token: string) => Promise<boolean>;\r\n  completeEmailOtp: (mfa_token: string, code: string) => Promise<boolean>;\r\n  completeRecovery: (mfa_token: string, code: string) => Promise<boolean>;\r\n  signup: (name: string, email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  isLoading: boolean;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nconst TOKEN_KEY = \"ftx_token\";\r\nconst USER_KEY = \"ftx_user\";\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check authentication status from server (cookie-based)\r\n    const checkAuth = async () => {\r\n      try {\r\n        const response = await fetch('/api/auth/me');\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          if (data.authenticated && data.user) {\r\n            setUser(data.user);\r\n            // Also sync with localStorage for consistency\r\n            localStorage.setItem(USER_KEY, JSON.stringify(data.user));\r\n            return;\r\n          }\r\n        }\r\n        \r\n        // If server auth fails, try localStorage fallback\r\n        const userData = localStorage.getItem(USER_KEY);\r\n        if (userData) {\r\n          setUser(JSON.parse(userData));\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth check error:', error);\r\n        \r\n        // Fallback to localStorage\r\n        try {\r\n          const userData = localStorage.getItem(USER_KEY);\r\n          if (userData) {\r\n            setUser(JSON.parse(userData));\r\n          }\r\n        } catch (e) {\r\n          console.error('LocalStorage fallback error:', e);\r\n        }\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  async function login(email: string, password: string, totp?: string): Promise<boolean | MfaResult> {\r\n    try {\r\n      const response = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password, totp }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.mfa_required && data.mfa_token) {\r\n        return { mfa_required: true, mfa_token: data.mfa_token };\r\n      }\r\n\r\n      if (!response.ok || !data.success) {\r\n        return false;\r\n      }\r\n      \r\n      if (data.success && data.token && data.user) {\r\n        localStorage.setItem(TOKEN_KEY, data.token);\r\n        localStorage.setItem(USER_KEY, JSON.stringify(data.user));\r\n        setUser(data.user);\r\n        return true;\r\n      }\r\n      \r\n      return false;\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async function completeTotp(mfa_token: string, code: string): Promise<boolean> {\r\n    try {\r\n      const response = await fetch('/api/auth/login/totp', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ mfa_token, code }),\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok || !data.success) return false;\r\n      if (data.user) {\r\n        // Token cookie is set server-side; we only update local user state\r\n        localStorage.setItem(USER_KEY, JSON.stringify(data.user));\r\n        setUser(data.user);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (e) {\r\n      console.error('MFA completion error:', e);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async function signup(name: string, email: string, password: string): Promise<boolean> {\r\n    try {\r\n      const response = await fetch('/api/auth/signup', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name, email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        return false;\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Note: User needs to verify email, so don't automatically log them in\r\n        return true;\r\n      }\r\n      \r\n      return false;\r\n    } catch (error) {\r\n      console.error('Signup error:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function logout(): void {\r\n    // Call logout API to clear server-side cookie\r\n    fetch('/api/auth/logout', {\r\n      method: 'POST',\r\n    }).catch(error => {\r\n      console.error('Logout API error:', error);\r\n    });\r\n\r\n    // Clear client-side state\r\n    setUser(null);\r\n    localStorage.removeItem(TOKEN_KEY);\r\n    localStorage.removeItem(USER_KEY);\r\n  }\r\n\r\n  async function startEmailOtp(mfa_token: string): Promise<boolean> {\r\n    try {\r\n      const r = await fetch('/api/auth/login/email-otp/start', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ mfa_token }) });\r\n      const d = await r.json();\r\n      return r.ok && d.success === true;\r\n    } catch (e) {\r\n      console.error('startEmailOtp error', e); return false;\r\n    }\r\n  }\r\n\r\n  async function completeEmailOtp(mfa_token: string, code: string): Promise<boolean> {\r\n    try {\r\n      const r = await fetch('/api/auth/login/email-otp/verify', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ mfa_token, code }) });\r\n      const d = await r.json();\r\n      if (!r.ok || !d.success) return false;\r\n      if (d.user) {\r\n        localStorage.setItem(USER_KEY, JSON.stringify(d.user));\r\n        setUser(d.user);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (e) { console.error('completeEmailOtp error', e); return false; }\r\n  }\r\n\r\n  async function completeRecovery(mfa_token: string, code: string): Promise<boolean> {\r\n    try {\r\n      const r = await fetch('/api/auth/login/recovery', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ mfa_token, code }) });\r\n      const d = await r.json();\r\n      if (!r.ok || !d.success) return false;\r\n      if (d.user) {\r\n        localStorage.setItem(USER_KEY, JSON.stringify(d.user));\r\n        setUser(d.user);\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (e) { console.error('completeRecovery error', e); return false; }\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, completeTotp, startEmailOtp, completeEmailOtp, completeRecovery, signup, logout, isLoading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth must be used within AuthProvider\");\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { useTheme } from \"@/components/ThemeProvider\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\nimport { Settings as SettingsIcon } from \"lucide-react\";\r\n\r\nexport function Navbar() {\r\n  const pathname = usePathname();\r\n  const { theme, toggleTheme } = useTheme();\r\n  const { user, logout, isLoading } = useAuth();\r\n  \r\n  const navLinks = [\r\n    { href: \"/dashboard\", label: \"Dashboard\" },\r\n    { href: \"/investments\", label: \"Investments\" },\r\n    { href: \"/insights\", label: \"Insights\" },\r\n    { href: \"/advisor\", label: \"Advisor\" },\r\n  ];\r\n  return (\r\n    <AppBar\r\n      position=\"sticky\"\r\n      color=\"default\"\r\n      elevation={0}\r\n      sx={(theme) => ({\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n        bgcolor: 'background.paper',\r\n        zIndex: 1200,\r\n      })}\r\n    >\r\n      <Toolbar sx={{ maxWidth: 1280, mx: 'auto', width: '100%', display: 'flex', justifyContent: 'space-between', px: { xs: 2, md: 4 }, py: 2 }}>\r\n        <Link href=\"/\" style={{ textDecoration: 'none', display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          <Box sx={(theme) => ({ width: 40, height: 40, bgcolor: theme.palette.action.hover, borderRadius: 2, display: 'flex', alignItems: 'center', justifyContent: 'center', mr: 1 })}>\r\n            <span style={{ fontSize: 28 }}>üíé</span>\r\n          </Box>\r\n          <Typography variant=\"h6\" color=\"text.primary\" fontWeight={700} sx={{ letterSpacing: 0.5 }}>\r\n            FinTrackrX\r\n          </Typography>\r\n        </Link>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          {navLinks.map((link) => (\r\n            <Link key={link.href} href={link.href} style={{ textDecoration: 'none' }}>\r\n              <Button\r\n                variant={pathname === link.href ? 'contained' : 'text'}\r\n                color={pathname === link.href ? 'primary' : 'inherit'}\r\n                sx={{\r\n                  fontWeight: 500,\r\n                  fontSize: 15,\r\n                  borderRadius: 2,\r\n                  px: 2.5,\r\n                  py: 1,\r\n                  boxShadow: 'none',\r\n                  ...(pathname === link.href\r\n                    ? { bgcolor: 'primary.main', color: '#fff', '&:hover': { bgcolor: 'primary.dark' } }\r\n                    : { color: 'text.secondary' }),\r\n                }}\r\n              >\r\n                {link.label}\r\n              </Button>\r\n            </Link>\r\n          ))}\r\n          {user ? (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1.5, ml: 2 }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {user.name ?? user.email}\r\n              </Typography>\r\n              <Link href=\"/settings\" style={{ textDecoration: 'none' }}>\r\n                <IconButton aria-label=\"Settings\" color={pathname === '/settings' ? 'primary' : 'default'}>\r\n                  <SettingsIcon size={18} />\r\n                </IconButton>\r\n              </Link>\r\n              <Button variant=\"outlined\" color=\"inherit\" size=\"small\" onClick={logout} sx={{ borderRadius: 2 }}>\r\n                Logout\r\n              </Button>\r\n            </Box>\r\n          ) : isLoading ? (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1.5, ml: 2 }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Loading...\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1.5, ml: 2 }}>\r\n              <Link href=\"/login\" style={{ textDecoration: 'none' }}>\r\n                <Button variant=\"text\" color=\"inherit\" size=\"small\" sx={{ borderRadius: 2 }}>\r\n                  Login\r\n                </Button>\r\n              </Link>\r\n              <Link href=\"/signup\" style={{ textDecoration: 'none' }}>\r\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" sx={{ borderRadius: 2 }}>\r\n                  Sign up\r\n                </Button>\r\n              </Link>\r\n            </Box>\r\n          )}\r\n          <IconButton onClick={toggleTheme} sx={{ ml: 1 }} aria-label=\"Toggle theme\">\r\n            <span style={{ fontSize: 16 }}>{theme === 'dark' ? 'üåô' : '‚òÄÔ∏è'}</span>\r\n          </IconButton>\r\n        </Box>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/ThemeRegistry.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from 'react';\r\nimport createCache from '@emotion/cache';\r\nimport { CacheProvider } from '@emotion/react';\r\nimport { useServerInsertedHTML } from 'next/navigation';\r\nimport { ThemeProvider as MuiThemeProvider, createTheme, CssBaseline } from '@mui/material';\r\nimport { useTheme } from '@/components/ThemeProvider';\r\n\r\n// Server-compatible Emotion + MUI registry to avoid hydration mismatches\r\nexport default function ThemeRegistry({ children }: { children: React.ReactNode }) {\r\n  const [{ cache, flush }] = React.useState(() => {\r\n    const cache = createCache({ key: 'mui', prepend: true });\r\n    cache.compat = true;\r\n    let inserted: string[] = [];\r\n    const prevInsert = cache.insert;\r\n    cache.insert = (...args: any[]) => {\r\n      const [selector, serialized, sheet, shouldCache] = args as [string, any, any, boolean];\r\n      if (cache.inserted[serialized.name] === undefined) {\r\n        inserted.push(serialized.name);\r\n      }\r\n      // @ts-ignore\r\n      return prevInsert(selector, serialized, sheet, shouldCache);\r\n    };\r\n    const flush = () => {\r\n      const prev = inserted;\r\n      inserted = [];\r\n      return prev;\r\n    };\r\n    return { cache, flush };\r\n  });\r\n\r\n  useServerInsertedHTML(() => {\r\n    const names = flush();\r\n    if (names.length === 0) return null;\r\n    let styles = '';\r\n    for (const name of names) {\r\n      styles += cache.inserted[name];\r\n    }\r\n    return (\r\n      <style\r\n        key={cache.key + names.join('-')}\r\n        data-emotion={`${cache.key} ${names.join(' ')}`}\r\n        dangerouslySetInnerHTML={{ __html: styles }}\r\n      />\r\n    );\r\n  });\r\n\r\n  const { theme: mode } = useTheme();\r\n\r\n  const theme = React.useMemo(() => createTheme({\r\n    palette: {\r\n      mode,\r\n      primary: { main: mode === 'dark' ? '#4dabf7' : '#1976d2' },\r\n      secondary: { main: mode === 'dark' ? '#22d3ee' : '#00bcd4' },\r\n      background: {\r\n        default: mode === 'dark' ? '#0d1117' : '#f5f6fa',\r\n        paper: mode === 'dark' ? '#161b22' : '#ffffff',\r\n      },\r\n      text: {\r\n        primary: mode === 'dark' ? '#e6edf3' : '#222',\r\n        secondary: mode === 'dark' ? '#9ca3af' : '#555',\r\n      },\r\n      divider: mode === 'dark' ? '#30363d' : '#e5e7eb',\r\n    },\r\n    shape: { borderRadius: 12 },\r\n    typography: {\r\n      fontFamily: 'Ubuntu, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif',\r\n      h1: { fontWeight: 700 }, h2: { fontWeight: 700 }, h3: { fontWeight: 700 },\r\n      h4: { fontWeight: 700 }, h5: { fontWeight: 700 }, h6: { fontWeight: 700 },\r\n      button: { textTransform: 'none', fontWeight: 600 },\r\n    },\r\n    components: {\r\n      MuiCard: {\r\n        styleOverrides: {\r\n          root: {\r\n            boxShadow: mode === 'dark' ? '0 2px 12px 0 rgba(0,0,0,0.4)' : '0 2px 12px 0 rgba(0,0,0,0.04)',\r\n            borderRadius: 16,\r\n            border: mode === 'dark' ? '1px solid #30363d' : '1px solid #e5e7eb',\r\n            backgroundImage: 'none',\r\n          }\r\n        }\r\n      },\r\n      MuiAppBar: {\r\n        styleOverrides: {\r\n          root: {\r\n            backgroundImage: 'none',\r\n            backdropFilter: 'blur(8px)',\r\n            backgroundColor: mode === 'dark' ? 'rgba(13,17,23,0.85)' : 'rgba(255,255,255,0.8)',\r\n            borderBottom: mode === 'dark' ? '1px solid #30363d' : '1px solid #e5e7eb',\r\n          }\r\n        }\r\n      },\r\n      MuiButton: {\r\n        styleOverrides: {\r\n          root: { borderRadius: 8 }\r\n        }\r\n      },\r\n    },\r\n  }), [mode]);\r\n\r\n  return (\r\n    <CacheProvider value={cache}>\r\n      <MuiThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        {children}\r\n      </MuiThemeProvider>\r\n    </CacheProvider>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/FinanceProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { Transaction, FinancialData } from \"@/lib/finance\";\r\n\r\ninterface FinanceContextType {\r\n  data: FinancialData;\r\n  addTransaction: (transaction: Omit<Transaction, \"id\" | \"date\">) => void;\r\n  deleteTransaction: (id: string) => void;\r\n}\r\n\r\nconst FinanceContext = createContext<FinanceContextType | undefined>(undefined);\r\n\r\nconst initialData: FinancialData = {\r\n  balance: 125000,\r\n  monthlyIncome: 75000,\r\n  monthlyExpenses: 45000,\r\n  transactions: [\r\n    {\r\n      id: \"1\",\r\n      type: \"income\",\r\n      category: \"Salary\",\r\n      amount: 75000,\r\n      description: \"Monthly Salary\",\r\n      date: new Date().toISOString(),\r\n    },\r\n    {\r\n      id: \"2\",\r\n      type: \"expense\",\r\n      category: \"Rent/EMI\",\r\n      amount: 25000,\r\n      description: \"House Rent\",\r\n      date: new Date(Date.now() - 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"3\",\r\n      type: \"expense\",\r\n      category: \"Groceries\",\r\n      amount: 8000,\r\n      description: \"Monthly Groceries\",\r\n      date: new Date(Date.now() - 2 * 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"4\",\r\n      type: \"expense\",\r\n      category: \"Utilities\",\r\n      amount: 5000,\r\n      description: \"Electricity & Water Bill\",\r\n      date: new Date(Date.now() - 3 * 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"5\",\r\n      type: \"expense\",\r\n      category: \"Transport\",\r\n      amount: 4000,\r\n      description: \"Fuel & Commute\",\r\n      date: new Date(Date.now() - 4 * 86400000).toISOString(),\r\n    },\r\n    {\r\n      id: \"6\",\r\n      type: \"expense\",\r\n      category: \"Healthcare\",\r\n      amount: 3000,\r\n      description: \"Medical Expenses\",\r\n      date: new Date(Date.now() - 5 * 86400000).toISOString(),\r\n    },\r\n  ],\r\n};\r\n\r\nexport function FinanceProvider({ children }: { children: React.ReactNode }) {\r\n  // Always start with initialData to ensure server/client consistency\r\n  const [data, setData] = useState<FinancialData>(initialData);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Load from localStorage after mount (client-side only)\r\n    if (typeof window !== \"undefined\") {\r\n      const saved = localStorage.getItem(\"financeData\");\r\n      if (saved) {\r\n        try {\r\n          const parsedData = JSON.parse(saved);\r\n          setData(parsedData);\r\n        } catch {\r\n          // If parsing fails, keep initialData\r\n        }\r\n      }\r\n      setMounted(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"financeData\", JSON.stringify(data));\r\n    }\r\n  }, [data]);\r\n\r\n  const addTransaction = (transaction: Omit<Transaction, \"id\" | \"date\">) => {\r\n    const newTransaction: Transaction = {\r\n      ...transaction,\r\n      id: Date.now().toString(),\r\n      date: new Date().toISOString(),\r\n    };\r\n\r\n    setData((prev) => {\r\n      const updated = {\r\n        ...prev,\r\n        transactions: [newTransaction, ...prev.transactions],\r\n      };\r\n\r\n      // Recalculate totals\r\n      const { income, expenses } = updated.transactions.reduce(\r\n        (acc, t) => {\r\n          if (t.type === \"income\") {\r\n            acc.income += t.amount;\r\n          } else {\r\n            acc.expenses += t.amount;\r\n          }\r\n          return acc;\r\n        },\r\n        { income: 0, expenses: 0 }\r\n      );\r\n\r\n      // Calculate monthly totals (last 30 days)\r\n      const thirtyDaysAgo = new Date();\r\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n      const monthlyTransactions = updated.transactions.filter(\r\n        (t) => new Date(t.date) >= thirtyDaysAgo\r\n      );\r\n\r\n      const monthlyIncome = monthlyTransactions\r\n        .filter((t) => t.type === \"income\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      const monthlyExpenses = monthlyTransactions\r\n        .filter((t) => t.type === \"expense\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      return {\r\n        ...updated,\r\n        balance: income - expenses,\r\n        monthlyIncome,\r\n        monthlyExpenses,\r\n      };\r\n    });\r\n  };\r\n\r\n  const deleteTransaction = (id: string) => {\r\n    setData((prev) => {\r\n      const updated = {\r\n        ...prev,\r\n        transactions: prev.transactions.filter((t) => t.id !== id),\r\n      };\r\n\r\n      // Recalculate totals\r\n      const { income, expenses } = updated.transactions.reduce(\r\n        (acc, t) => {\r\n          if (t.type === \"income\") {\r\n            acc.income += t.amount;\r\n          } else {\r\n            acc.expenses += t.amount;\r\n          }\r\n          return acc;\r\n        },\r\n        { income: 0, expenses: 0 }\r\n      );\r\n\r\n      // Calculate monthly totals\r\n      const thirtyDaysAgo = new Date();\r\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n      const monthlyTransactions = updated.transactions.filter(\r\n        (t) => new Date(t.date) >= thirtyDaysAgo\r\n      );\r\n\r\n      const monthlyIncome = monthlyTransactions\r\n        .filter((t) => t.type === \"income\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      const monthlyExpenses = monthlyTransactions\r\n        .filter((t) => t.type === \"expense\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      return {\r\n        ...updated,\r\n        balance: income - expenses,\r\n        monthlyIncome,\r\n        monthlyExpenses,\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <FinanceContext.Provider value={{ data, addTransaction, deleteTransaction }}>\r\n      {children}\r\n    </FinanceContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFinance() {\r\n  const context = useContext(FinanceContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useFinance must be used within a FinanceProvider\");\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1052, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/ErrorBoundary.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from \"react\";\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('Error caught by boundary:', error, errorInfo);\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n          <div className=\"text-center p-8 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 max-w-md mx-4\">\r\n            <div className=\"w-16 h-16 mx-auto mb-4 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center\">\r\n              <span className=\"text-2xl\">‚ö†Ô∏è</span>\r\n            </div>\r\n            <h1 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\r\n              Something went wrong\r\n            </h1>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n              We've encountered an unexpected error. Please refresh the page or try again later.\r\n            </p>\r\n            <div className=\"space-y-2\">\r\n              <button\r\n                onClick={() => window.location.reload()}\r\n                className=\"w-full px-4 py-2 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 font-medium rounded-lg hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors\"\r\n              >\r\n                Refresh Page\r\n              </button>\r\n              <button\r\n                onClick={() => this.setState({ hasError: false, error: undefined })}\r\n                className=\"w-full px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-medium rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n              >\r\n                Try Again\r\n              </button>\r\n            </div>\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <details className=\"mt-4 text-left\">\r\n                <summary className=\"cursor-pointer text-sm text-gray-500\">Error Details</summary>\r\n                <pre className=\"mt-2 p-2 bg-gray-100 dark:bg-gray-900 rounded text-xs overflow-auto\">\r\n                  {this.state.error.stack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAaO,MAAM,sBAAsB,kNAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;QAAM;IACjC;IAEA,OAAc,yBAAyB,KAAY,EAAS;QAC1D,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEO,kBAAkB,KAAY,EAAE,SAAoB,EAAE;QAC3D,QAAQ,KAAK,CAAC,6BAA6B,OAAO;IACpD;IAEO,SAAS;QACd,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CAAW;;;;;;;;;;;sCAE7B,8OAAC;4BAAG,WAAU;sCAA2D;;;;;;sCAGzE,8OAAC;4BAAE,WAAU;sCAAwC;;;;;;sCAGrD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;oCACrC,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,SAAS,IAAM,IAAI,CAAC,QAAQ,CAAC;4CAAE,UAAU;4CAAO,OAAO;wCAAU;oCACjE,WAAU;8CACX;;;;;;;;;;;;wBAIF,oDAAyB,iBAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,kBACzD,8OAAC;4BAAQ,WAAU;;8CACjB,8OAAC;oCAAQ,WAAU;8CAAuC;;;;;;8CAC1D,8OAAC;oCAAI,WAAU;8CACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;QAOrC;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF","debugId":null}}]
}