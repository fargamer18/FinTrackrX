{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/lib/finance.ts"],"sourcesContent":["export interface Transaction {\r\n  id: string;\r\n  type: \"income\" | \"expense\";\r\n  category: string;\r\n  amount: number;\r\n  description: string;\r\n  date: string;\r\n}\r\n\r\nexport interface FinancialData {\r\n  balance: number;\r\n  monthlyIncome: number;\r\n  monthlyExpenses: number;\r\n  transactions: Transaction[];\r\n}\r\n\r\nconst defaultCategories = {\r\n  income: [\"Salary\", \"Freelance\", \"Investment\", \"Rental\", \"Business\", \"Other\"],\r\n  expense: [\r\n    \"Groceries\",\r\n    \"Utilities\",\r\n    \"Transport\",\r\n    \"Rent/EMI\",\r\n    \"Education\",\r\n    \"Healthcare\",\r\n    \"Entertainment\",\r\n    \"Shopping\",\r\n    \"Food & Dining\",\r\n    \"Insurance\",\r\n    \"Other\",\r\n  ],\r\n};\r\n\r\nexport const categories = defaultCategories;\r\n\r\nexport function formatCurrency(amount: number): string {\r\n  return new Intl.NumberFormat(\"en-IN\", {\r\n    style: \"currency\",\r\n    currency: \"INR\",\r\n    maximumFractionDigits: 0,\r\n  }).format(amount);\r\n}\r\n\r\nexport function calculateTotals(transactions: Transaction[]) {\r\n  const income = transactions\r\n    .filter((t) => t.type === \"income\")\r\n    .reduce((sum, t) => sum + t.amount, 0);\r\n  const expenses = transactions\r\n    .filter((t) => t.type === \"expense\")\r\n    .reduce((sum, t) => sum + t.amount, 0);\r\n  return { income, expenses, balance: income - expenses };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAgBA,MAAM,oBAAoB;IACxB,QAAQ;QAAC;QAAU;QAAa;QAAc;QAAU;QAAY;KAAQ;IAC5E,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH;AAEO,MAAM,aAAa;AAEnB,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,gBAAgB,YAA2B;IACzD,MAAM,SAAS,aACZ,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,UACzB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;IACtC,MAAM,WAAW,aACd,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,WACzB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;IACtC,OAAO;QAAE;QAAQ;QAAU,SAAS,SAAS;IAAS;AACxD","debugId":null}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/TransactionModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useFinance } from \"./FinanceProvider\";\r\nimport { categories, formatCurrency } from \"@/lib/finance\";\r\n\r\ninterface TransactionModalProps {\r\n  type: \"income\" | \"expense\";\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function TransactionModal({ type, isOpen, onClose }: TransactionModalProps) {\r\n  const { addTransaction } = useFinance();\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!amount || !category || !description) return;\r\n\r\n    addTransaction({\r\n      type,\r\n      amount: parseFloat(amount),\r\n      category,\r\n      description,\r\n    });\r\n\r\n    setAmount(\"\");\r\n    setCategory(\"\");\r\n    setDescription(\"\");\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n            Add {type === \"income\" ? \"Income\" : \"Expense\"}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200\"\r\n          >\r\n            âœ•\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Amount (â‚¹)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n              placeholder=\"Enter amount\"\r\n              required\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Category\r\n            </label>\r\n            <select\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n              required\r\n            >\r\n              <option value=\"\">Select category</option>\r\n              {categories[type].map((cat) => (\r\n                <option key={cat} value={cat}>\r\n                  {cat}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Description\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n              placeholder=\"Enter description\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className={`flex-1 px-4 py-2 rounded-lg text-white font-medium transition-colors ${\r\n                type === \"income\"\r\n                  ? \"bg-green-600 hover:bg-green-700\"\r\n                  : \"bg-red-600 hover:bg-red-700\"\r\n              }`}\r\n            >\r\n              Add {type === \"income\" ? \"Income\" : \"Expense\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYO,SAAS,iBAAiB,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAyB;IAC/E,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,0JAAU;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+NAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+NAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+NAAQ,EAAC;IAE/C,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,aAAa;QAE1C,eAAe;YACb;YACA,QAAQ,WAAW;YACnB;YACA;QACF;QAEA,UAAU;QACV,YAAY;QACZ,eAAe;QACf;IACF;IAEA,qBACE,4PAAC;QAAI,WAAU;kBACb,cAAA,4PAAC;YAAI,WAAU;;8BACb,4PAAC;oBAAI,WAAU;;sCACb,4PAAC;4BAAG,WAAU;;gCAAkD;gCACzD,SAAS,WAAW,WAAW;;;;;;;sCAEtC,4PAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;8BAKH,4PAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,4PAAC;;8CACC,4PAAC;oCAAM,WAAU;8CAAkE;;;;;;8CAGnF,4PAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,WAAU;oCACV,aAAY;oCACZ,QAAQ;oCACR,KAAI;oCACJ,MAAK;;;;;;;;;;;;sCAIT,4PAAC;;8CACC,4PAAC;oCAAM,WAAU;8CAAkE;;;;;;8CAGnF,4PAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,QAAQ;;sDAER,4PAAC;4CAAO,OAAM;sDAAG;;;;;;wCAChB,0IAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,oBACrB,4PAAC;gDAAiB,OAAO;0DACtB;+CADU;;;;;;;;;;;;;;;;;sCAOnB,4PAAC;;8CACC,4PAAC;oCAAM,WAAU;8CAAkE;;;;;;8CAGnF,4PAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC9C,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAIZ,4PAAC;4BAAI,WAAU;;8CACb,4PAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,4PAAC;oCACC,MAAK;oCACL,WAAW,CAAC,qEAAqE,EAC/E,SAAS,WACL,oCACA,+BACJ;;wCACH;wCACM,SAAS,WAAW,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlD","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/charts/FinanceBarChart.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { format } from 'date-fns';\r\n\r\ninterface MonthlyData {\r\n  month: string;\r\n  income: number;\r\n  expense: number;\r\n  net: number;\r\n}\r\n\r\ninterface FinanceBarChartProps {\r\n  data: MonthlyData[];\r\n  title?: string;\r\n}\r\n\r\nexport function FinanceBarChart({ data, title = \"ðŸ“Š Monthly Income vs Expenses\" }: FinanceBarChartProps) {\r\n  const CustomTooltip = ({ active, payload, label }: any) => {\r\n    if (active && payload && payload.length) {\r\n      return (\r\n        <div className=\"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700\">\r\n          <p className=\"font-semibold text-gray-900 dark:text-white mb-2\">{label}</p>\r\n          <p className=\"text-sm text-gray-700 dark:text-gray-300\">\r\n            ðŸ’µ Income: â‚¹{payload[0].value.toLocaleString()}\r\n          </p>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            ðŸ’³ Expense: â‚¹{payload[1].value.toLocaleString()}\r\n          </p>\r\n          <p className=\"text-sm font-semibold text-gray-900 dark:text-white mt-2\">\r\n            Net: â‚¹{(payload[0].value - payload[1].value).toLocaleString()}\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700\">\r\n      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">{title}</h3>\r\n      <ResponsiveContainer width=\"100%\" height={350}>\r\n        <BarChart data={data}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-gray-200 dark:stroke-gray-700\" />\r\n          <XAxis \r\n            dataKey=\"month\" \r\n            className=\"text-xs\"\r\n            tick={{ fill: 'currentColor' }}\r\n          />\r\n          <YAxis \r\n            className=\"text-xs\"\r\n            tick={{ fill: 'currentColor' }}\r\n            tickFormatter={(value: number) => `â‚¹${(value / 1000).toFixed(0)}k`}\r\n          />\r\n          <Tooltip content={<CustomTooltip />} />\r\n          <Legend />\r\n          <Bar dataKey=\"income\" fill=\"#6b7280\" name=\"Income\" radius={[8, 8, 0, 0]} />\r\n          <Bar dataKey=\"expense\" fill=\"#d1d5db\" name=\"Expense\" radius={[8, 8, 0, 0]} />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AAiBO,SAAS,gBAAgB,EAAE,IAAI,EAAE,QAAQ,+BAA+B,EAAwB;IACrG,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAO;QACpD,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;YACvC,qBACE,4PAAC;gBAAI,WAAU;;kCACb,4PAAC;wBAAE,WAAU;kCAAoD;;;;;;kCACjE,4PAAC;wBAAE,WAAU;;4BAA2C;4BACzC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,cAAc;;;;;;;kCAE9C,4PAAC;wBAAE,WAAU;;4BAA2C;4BACxC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,cAAc;;;;;;;kCAE/C,4PAAC;wBAAE,WAAU;;4BAA2D;4BAC/D,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,cAAc;;;;;;;;;;;;;QAInE;QACA,OAAO;IACT;IAEA,qBACE,4PAAC;QAAI,WAAU;;0BACb,4PAAC;gBAAG,WAAU;0BAA4D;;;;;;0BAC1E,4PAAC,wMAAmB;gBAAC,OAAM;gBAAO,QAAQ;0BACxC,cAAA,4PAAC,8KAAQ;oBAAC,MAAM;;sCACd,4PAAC,4LAAa;4BAAC,iBAAgB;4BAAM,WAAU;;;;;;sCAC/C,4PAAC,4KAAK;4BACJ,SAAQ;4BACR,WAAU;4BACV,MAAM;gCAAE,MAAM;4BAAe;;;;;;sCAE/B,4PAAC,4KAAK;4BACJ,WAAU;4BACV,MAAM;gCAAE,MAAM;4BAAe;4BAC7B,eAAe,CAAC,QAAkB,CAAC,CAAC,EAAE,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;;;;;;sCAEpE,4PAAC,gLAAO;4BAAC,uBAAS,4PAAC;;;;;;;;;;sCACnB,4PAAC,8KAAM;;;;;sCACP,4PAAC,wKAAG;4BAAC,SAAQ;4BAAS,MAAK;4BAAU,MAAK;4BAAS,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;;;;;;sCACvE,4PAAC,wKAAG;4BAAC,SAAQ;4BAAU,MAAK;4BAAU,MAAK;4BAAU,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;;;;;;;;;;;;;;;;;;;;;;;AAKnF","debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/components/charts/ExpensePieChart.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from 'recharts';\r\n\r\ninterface CategoryData {\r\n  name: string;\r\n  value: number;\r\n  color: string;\r\n}\r\n\r\ninterface ExpensePieChartProps {\r\n  data: CategoryData[];\r\n  title?: string;\r\n}\r\n\r\nexport function ExpensePieChart({ data, title = \"ðŸ’° Expenses by Category\" }: ExpensePieChartProps) {\r\n  const total = data.reduce((sum, item) => sum + item.value, 0);\r\n\r\n  const CustomTooltip = ({ active, payload }: any) => {\r\n    if (active && payload && payload.length) {\r\n      const percentage = ((payload[0].value / total) * 100).toFixed(1);\r\n      return (\r\n        <div className=\"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-200 dark:border-gray-700\">\r\n          <p className=\"font-semibold text-gray-900 dark:text-white\">{payload[0].name}</p>\r\n          <p className=\"text-sm text-gray-700 dark:text-gray-300\">â‚¹{payload[0].value.toLocaleString()}</p>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">{percentage}%</p>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderLabel = (entry: any) => {\r\n    const percentage = ((entry.value / total) * 100).toFixed(1);\r\n    return `${percentage}%`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700\">\r\n      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">{title}</h3>\r\n      <ResponsiveContainer width=\"100%\" height={300}>\r\n        <PieChart>\r\n          <Pie\r\n            data={data}\r\n            cx=\"50%\"\r\n            cy=\"50%\"\r\n            labelLine={false}\r\n            label={renderLabel}\r\n            outerRadius={100}\r\n            fill=\"#8884d8\"\r\n            dataKey=\"value\"\r\n          >\r\n            {data.map((entry, index) => (\r\n              <Cell key={`cell-${index}`} fill={entry.color} />\r\n            ))}\r\n          </Pie>\r\n          <Tooltip content={<CustomTooltip />} />\r\n          <Legend />\r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n      <div className=\"mt-4 text-center\">\r\n        <p className=\"text-sm text-gray-500 dark:text-gray-400\">Total Expenses</p>\r\n        <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">â‚¹{total.toLocaleString()}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AAeO,SAAS,gBAAgB,EAAE,IAAI,EAAE,QAAQ,yBAAyB,EAAwB;IAC/F,MAAM,QAAQ,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,EAAE;IAE3D,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAO;QAC7C,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;YACvC,MAAM,aAAa,CAAC,AAAC,OAAO,CAAC,EAAE,CAAC,KAAK,GAAG,QAAS,GAAG,EAAE,OAAO,CAAC;YAC9D,qBACE,4PAAC;gBAAI,WAAU;;kCACb,4PAAC;wBAAE,WAAU;kCAA+C,OAAO,CAAC,EAAE,CAAC,IAAI;;;;;;kCAC3E,4PAAC;wBAAE,WAAU;;4BAA2C;4BAAE,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,cAAc;;;;;;;kCACzF,4PAAC;wBAAE,WAAU;;4BAA4C;4BAAW;;;;;;;;;;;;;QAG1E;QACA,OAAO;IACT;IAEA,MAAM,cAAc,CAAC;QACnB,MAAM,aAAa,CAAC,AAAC,MAAM,KAAK,GAAG,QAAS,GAAG,EAAE,OAAO,CAAC;QACzD,OAAO,GAAG,WAAW,CAAC,CAAC;IACzB;IAEA,qBACE,4PAAC;QAAI,WAAU;;0BACb,4PAAC;gBAAG,WAAU;0BAA4D;;;;;;0BAC1E,4PAAC,wMAAmB;gBAAC,OAAM;gBAAO,QAAQ;0BACxC,cAAA,4PAAC,8KAAQ;;sCACP,4PAAC,oKAAG;4BACF,MAAM;4BACN,IAAG;4BACH,IAAG;4BACH,WAAW;4BACX,OAAO;4BACP,aAAa;4BACb,MAAK;4BACL,SAAQ;sCAEP,KAAK,GAAG,CAAC,CAAC,OAAO,sBAChB,4PAAC,0KAAI;oCAAuB,MAAM,MAAM,KAAK;mCAAlC,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;sCAG9B,4PAAC,gLAAO;4BAAC,uBAAS,4PAAC;;;;;;;;;;sCACnB,4PAAC,8KAAM;;;;;;;;;;;;;;;;0BAGX,4PAAC;gBAAI,WAAU;;kCACb,4PAAC;wBAAE,WAAU;kCAA2C;;;;;;kCACxD,4PAAC;wBAAE,WAAU;;4BAAmD;4BAAE,MAAM,cAAc;;;;;;;;;;;;;;;;;;;AAI9F","debugId":null}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file:///D:/FullStackDev/fintrackrx/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { useFinance } from \"@/components/FinanceProvider\";\r\nimport { TransactionModal } from \"@/components/TransactionModal\";\r\nimport { FinanceBarChart } from \"@/components/charts/FinanceBarChart\";\r\nimport { ExpensePieChart } from \"@/components/charts/ExpensePieChart\";\r\nimport { formatCurrency } from \"@/lib/finance\";\r\nimport { format, subMonths, startOfMonth, endOfMonth } from \"date-fns\";\r\n\r\nexport default function DashboardPage() {\r\n  const { data, deleteTransaction } = useFinance();\r\n  const [isIncomeModalOpen, setIsIncomeModalOpen] = useState(false);\r\n  const [isExpenseModalOpen, setIsExpenseModalOpen] = useState(false);\r\n\r\n  const recentTransactions = data.transactions.slice(0, 5);\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const today = new Date();\r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n    if (date.toDateString() === today.toDateString()) return \"Today\";\r\n    if (date.toDateString() === yesterday.toDateString()) return \"Yesterday\";\r\n    const diffTime = Math.abs(today.getTime() - date.getTime());\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return `${diffDays} days ago`;\r\n  };\r\n\r\n  // Prepare monthly data for bar chart (last 6 months)\r\n  const monthlyData = useMemo(() => {\r\n    const months = [];\r\n    for (let i = 5; i >= 0; i--) {\r\n      const date = subMonths(new Date(), i);\r\n      const monthStart = startOfMonth(date);\r\n      const monthEnd = endOfMonth(date);\r\n\r\n      const monthTransactions = data.transactions.filter((t) => {\r\n        const transactionDate = new Date(t.date);\r\n        return transactionDate >= monthStart && transactionDate <= monthEnd;\r\n      });\r\n\r\n      const income = monthTransactions\r\n        .filter((t) => t.type === \"income\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n      const expense = monthTransactions\r\n        .filter((t) => t.type === \"expense\")\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n      months.push({\r\n        month: format(date, \"MMM yyyy\"),\r\n        income,\r\n        expense,\r\n        net: income - expense,\r\n      });\r\n    }\r\n    return months;\r\n  }, [data.transactions]);\r\n\r\n  // Prepare category data for pie chart (current month expenses)\r\n  const categoryData = useMemo(() => {\r\n    const currentMonthStart = startOfMonth(new Date());\r\n    const currentMonthEnd = endOfMonth(new Date());\r\n\r\n    const expenses = data.transactions.filter((t) => {\r\n      const transactionDate = new Date(t.date);\r\n      return (\r\n        t.type === \"expense\" &&\r\n        transactionDate >= currentMonthStart &&\r\n        transactionDate <= currentMonthEnd\r\n      );\r\n    });\r\n\r\n    const categoryMap: { [key: string]: number } = {};\r\n    expenses.forEach((t) => {\r\n      categoryMap[t.category] = (categoryMap[t.category] || 0) + t.amount;\r\n    });\r\n\r\n    const colors = [\r\n      \"#6b7280\", // gray-500\r\n      \"#9ca3af\", // gray-400\r\n      \"#4b5563\", // gray-600\r\n      \"#d1d5db\", // gray-300\r\n      \"#374151\", // gray-700\r\n      \"#e5e7eb\", // gray-200\r\n      \"#1f2937\", // gray-800\r\n      \"#f3f4f6\", // gray-100\r\n    ];\r\n\r\n    return Object.entries(categoryMap).map(([name, value], index) => ({\r\n      name,\r\n      value,\r\n      color: colors[index % colors.length],\r\n    }));\r\n  }, [data.transactions]);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-6 py-8 space-y-8\">\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">Dashboard</h1>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">Track your income, expenses, and financial health</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Balance</h3>\r\n            <div className=\"w-12 h-12 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center justify-center\">\r\n              <span className=\"text-2xl\">ðŸ’°</span>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\r\n            {formatCurrency(data.balance)}\r\n          </p>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n            {formatCurrency(data.monthlyIncome - data.monthlyExpenses)} this month\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Monthly Income</h3>\r\n            <div className=\"w-12 h-12 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center justify-center\">\r\n              <span className=\"text-2xl\">ï¿½</span>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\r\n            {formatCurrency(data.monthlyIncome)}\r\n          </p>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">Expected this month</p>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Monthly Expenses</h3>\r\n            <div className=\"w-12 h-12 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center justify-center\">\r\n              <span className=\"text-2xl\">ï¿½</span>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\r\n            {formatCurrency(data.monthlyExpenses)}\r\n          </p>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n            {data.monthlyIncome > 0\r\n              ? `${Math.round((data.monthlyExpenses / data.monthlyIncome) * 100)}% of budget used`\r\n              : \"No income tracked\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Section */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <FinanceBarChart data={monthlyData} />\r\n        {categoryData.length > 0 && <ExpensePieChart data={categoryData} />}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Recent Transactions</h2>\r\n          <div className=\"space-y-4\">\r\n            {recentTransactions.length > 0 ? (\r\n              recentTransactions.map((transaction) => (\r\n                <div\r\n                  key={transaction.id}\r\n                  className=\"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-700 last:border-0 group\"\r\n                >\r\n                  <div className=\"flex items-center gap-3 flex-1\">\r\n                    <div className=\"w-10 h-10 bg-gray-50 dark:bg-gray-700/50 rounded-lg flex items-center justify-center\">\r\n                      <span className=\"text-xl\">{transaction.type === \"income\" ? \"ðŸ’°\" : \"ðŸ’¸\"}</span>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"font-medium text-gray-900 dark:text-white\">{transaction.description}</p>\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                        {transaction.category} â€¢ {formatDate(transaction.date)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <p\r\n                      className={`font-semibold ${\r\n                        transaction.type === \"income\"\r\n                          ? \"text-green-600 dark:text-green-400\"\r\n                          : \"text-red-600 dark:text-red-400\"\r\n                      }`}\r\n                    >\r\n                      {transaction.type === \"income\" ? \"+\" : \"-\"}\r\n                      {formatCurrency(transaction.amount)}\r\n                    </p>\r\n                    <button\r\n                      onClick={() => deleteTransaction(transaction.id)}\r\n                      className=\"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-opacity\"\r\n                    >\r\n                      âœ•\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-gray-500 dark:text-gray-400 text-center py-4\">No transactions yet</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Quick Actions</h2>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <button\r\n              onClick={() => setIsIncomeModalOpen(true)}\r\n              className=\"p-4 bg-white dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left\"\r\n            >\r\n              <div className=\"text-2xl mb-2\">ðŸ’µ</div>\r\n              <p className=\"font-medium text-gray-900 dark:text-white text-sm\">Add Income</p>\r\n            </button>\r\n            <button\r\n              onClick={() => setIsExpenseModalOpen(true)}\r\n              className=\"p-4 bg-white dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left\"\r\n            >\r\n              <div className=\"text-2xl mb-2\">ðŸ’³</div>\r\n              <p className=\"font-medium text-gray-900 dark:text-white text-sm\">Add Expense</p>\r\n            </button>\r\n            <button\r\n              onClick={() => window.location.href = \"/insights\"}\r\n              className=\"p-4 bg-white dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left\"\r\n            >\r\n              <div className=\"text-2xl mb-2\">ðŸ“Š</div>\r\n              <p className=\"font-medium text-gray-900 dark:text-white text-sm\">View Reports</p>\r\n            </button>\r\n            <button\r\n              onClick={() => window.location.href = \"/advisor\"}\r\n              className=\"p-4 bg-white dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left\"\r\n            >\r\n              <div className=\"text-2xl mb-2\">ðŸ¤–</div>\r\n              <p className=\"font-medium text-gray-900 dark:text-white text-sm\">AI Advisor</p>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <TransactionModal\r\n        type=\"income\"\r\n        isOpen={isIncomeModalOpen}\r\n        onClose={() => setIsIncomeModalOpen(false)}\r\n      />\r\n      <TransactionModal\r\n        type=\"expense\"\r\n        isOpen={isExpenseModalOpen}\r\n        onClose={() => setIsExpenseModalOpen(false)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}