module.exports=[83694,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(93852),e=a.i(50944);function f(){let{login:a,completeTotp:f,startEmailOtp:g,completeEmailOtp:h,completeRecovery:i}=(0,d.useAuth)(),j=(0,e.useRouter)(),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("totp"),[C,D]=(0,c.useState)(!1);async function E(b){b.preventDefault(),p(null),r(!0);let c=await a(k,m);(r(!1),!0===c)?j.push("/dashboard"):c&&c.mfa_required?t(c.mfa_token):p("Invalid credentials. Try signing up if you don't have an account.")}async function F(a){if(a.preventDefault(),!s)return;p(null),r(!0);let b=!1;"totp"===A?(b=await f(s,u))||p("Invalid authenticator code."):"email"===A?(b=await h(s,w))||p("Invalid email code."):"recovery"===A&&((b=await i(s,y.trim()))||p("Invalid recovery code.")),r(!1),b&&j.push("/dashboard")}async function G(){if(!s)return;p(null),r(!0);let a=await g(s);r(!1),a?D(!0):p("Could not send email code. Try again later.")}return(0,b.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center px-4 bg-black",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-gray-900 rounded-xl border border-gray-800 p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"inline-flex w-16 h-16 bg-gray-800 rounded-xl items-center justify-center mb-4",children:(0,b.jsx)("span",{className:"text-3xl",children:"üîê"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Welcome back"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Sign in to your account"})]}),s?(0,b.jsxs)("form",{onSubmit:F,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-300 space-y-2",children:[(0,b.jsx)("div",{children:"Two‚Äëfactor authentication required. Choose a method:"}),(0,b.jsx)("div",{className:"flex gap-2 text-xs",children:["totp","email","recovery"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>B(a),className:`px-3 py-1.5 rounded-md border ${A===a?"bg-gray-100 text-gray-900 border-gray-300":"bg-gray-800 text-gray-300 border-gray-700"}`,children:"totp"===a?"Authenticator":"email"===a?"Email Code":"Recovery Code"},a))})]}),"totp"===A&&(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"6‚Äëdigit authenticator code"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),required:!0,maxLength:6,className:"mt-1 tracking-widest text-center block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"}),(0,b.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"Open Google Authenticator / Authy ‚Äì the code refreshes every 30s."})]}),"email"===A&&(0,b.jsxs)("div",{className:"space-y-3",children:[!C&&(0,b.jsx)("button",{type:"button",onClick:G,disabled:q,className:"w-full px-4 py-2.5 rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white text-sm disabled:opacity-50",children:q?"Sending...":"Send email code"}),C&&(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Enter code sent to your email"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),required:!0,maxLength:6,className:"mt-1 tracking-widest text-center block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"}),(0,b.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"Check your inbox (and spam). Code expires in 10 minutes."})]})]}),"recovery"===A&&(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Recovery code"}),(0,b.jsx)("input",{type:"text",value:y,onChange:a=>z(a.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"}),(0,b.jsx)("p",{className:"mt-2 text-xs text-amber-400",children:"Single‚Äëuse. After login, generate new codes in Settings."})]}),o&&(0,b.jsxs)("div",{className:"text-sm text-gray-300 bg-gray-800 p-3 rounded-lg border border-gray-700",children:["‚ö†Ô∏è ",o]}),(0,b.jsx)("button",{type:"submit",className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-900 font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:q||"email"===A&&C&&w.length<6||"totp"===A&&u.length<6||"recovery"===A&&y.length<6,children:q?"‚è≥ Verifying...":"Verify & Sign in"}),(0,b.jsxs)("div",{className:"text-center text-xs text-gray-500 space-y-1",children:[(0,b.jsx)("div",{children:"Need authenticator? Set up under Settings ‚Üí Two‚ÄëFactor Authentication."}),(0,b.jsx)("div",{children:(0,b.jsx)("a",{href:"/auth/forgot-password",className:"text-gray-300 hover:text-white underline underline-offset-2",children:"Forgot password?"})})]})]}):(0,b.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Email"}),(0,b.jsx)("input",{type:"email",value:k,onChange:a=>l(a.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"})]}),(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Password"}),(0,b.jsx)("input",{type:"password",value:m,onChange:a=>n(a.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 text-white px-4 py-2.5 focus:ring-2 focus:ring-gray-600 focus:border-transparent placeholder-gray-400"})]}),o&&(0,b.jsxs)("div",{className:"text-sm text-gray-300 bg-gray-800 p-3 rounded-lg border border-gray-700",children:["‚ö†Ô∏è ",o]}),(0,b.jsx)("button",{type:"submit",className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-900 font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:q,children:q?"‚è≥ Signing in...":"Sign in"}),(0,b.jsxs)("div",{className:"text-center text-sm text-gray-400",children:["Don't have an account?"," ",(0,b.jsx)("a",{href:"/signup",className:"text-white font-medium hover:underline",children:"Create account"}),(0,b.jsx)("span",{className:"mx-2 text-gray-600",children:"‚Ä¢"}),(0,b.jsx)("a",{href:"/auth/forgot-password",className:"text-gray-300 hover:text-white underline underline-offset-2",children:"Forgot password?"})]})]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_login_page_tsx_ccc0019b._.js.map